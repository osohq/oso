# Classes.
class Num();
class One(Num);
class Two(Num);
class Three(Two, One) { unit: One, pair: Two };

# Test instances and subclassing.
?= isa(One{}, One{});
?= !(isa(One{}, Two{}));
?= !(isa(Two{}, One{}));
?= !(isa(Two{}, Three{}));
?= three = Three{unit: One{}, pair: Two{}},
   isa(three, One{}),
   isa(three, Two{}),
   isa(three, Three{});

?= three = Three{ unit: One{}, pair: Two{} },
   x = three.unit,
   isa(x, One{});

# Methods.
one(1);
two(2);
one(_: One);
two(Two{});
three({unit: One{}});

# Test methods.
?= one(1);
?= !one(2);
?= !two(1);
?= two(2);
?= one(One{});
?= !(one(Two{}));
?= one(Three{});
?= !(two(One{}));
?= two(Two{});
?= two(Three{});
?= three(Three{unit: One{}, pair: Two{}});
